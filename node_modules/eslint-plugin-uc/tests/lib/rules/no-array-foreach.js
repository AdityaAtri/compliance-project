const rule = require("../../../lib/rules/no-array-foreach");
const RuleTester = require("eslint").RuleTester;
const ruleTester = new RuleTester();

ruleTester.run("no-array-foreach", rule, {

  valid: [
    {
      code: 'const a = [1, 2, 3]; const b = a.map(i => i+1);',
      parserOptions: { ecmaVersion: 2020 }
    }
  ],

  invalid: [
    {
      code: 'const a = [1, 2, 3]; const b = []; a.forEach(i => b.push(i+1));',
      parserOptions: { ecmaVersion: 2020 },
      errors: [{
        message: 'Prefer other functional constructs like map(), reduce(), for...of instead of Array.forEach',
        type: 'CallExpression'
      }]
    }
  ]
});
