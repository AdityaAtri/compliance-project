const { RuleTester } = require('eslint');

const rule = require('../../../lib/rules/interface-key-spacing');

const ruleTester = new RuleTester({
  parser: require.resolve('@typescript-eslint/parser'),
});

ruleTester.run('interface-key-spacing', rule, {
  valid: [
    { code: 'interface x {\na : string\nab: string\n}'},
    { code: 'interface x {\nab: string\na : string\n}'},
    { code: 'interface x {\na: string\nb: string\n}'},
    { code: 'interface x {\na?: string\nb : string\n}'},
    { code: 'interface x {\na : string\nb?: string\n}'},
  ],

  invalid: [
    {
      code: 'interface x {\na: string\nab: string\n}',
      errors: ['Needs colon alignment'],
      output: 'interface x {\na : string\nab: string\n}',
    },
    {
      code: 'interface x {\nab: string\na: string\n}',
      errors: ['Needs colon alignment'],
      output: 'interface x {\nab: string\na : string\n}',
    },
    {
      code: 'interface x {\na: string\nb : string\n}',
      errors: ['Needs colon alignment'],
      output: 'interface x {\na: string\nb: string\n}',
    },
    {
      code: 'interface x {\na?: string\nb: string\n}',
      errors: ['Needs colon alignment'],
      output: 'interface x {\na?: string\nb : string\n}',
    },
    {
      code: 'interface x {\na: string\nb?: string\n}',
      errors: ['Needs colon alignment'],
      output: 'interface x {\na : string\nb?: string\n}',
    }
  ],
});
